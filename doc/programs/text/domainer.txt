
                           DOMAINER documentation
                                      
   

CONTENTS

   1.0 SUMMARY 
   2.0 INPUTS & OUTPUTS 
   3.0 INPUT FILE FORMAT 
   4.0 OUTPUT FILE FORMAT 
   5.0 DATA FILES 
   6.0 USAGE 
   7.0 KNOWN BUGS & WARNINGS 
   8.0 NOTES 
   9.0 DESCRIPTION 
   10.0 ALGORITHM 
   11.0 RELATED APPLICATIONS 
   12.0 DIAGNOSTIC ERROR MESSAGES 
   13.0 AUTHORS 
   14.0 REFERENCES 

1.0 SUMMARY

   Reads CCF files (clean coordinate files) for proteins and writes CCF
   files for domains, taken from a DCF file (domain classification file)
   Reads CCF files (clean coordinate files) for proteins and writes CCF
   files for domains, taken from a DCF file (domain classification file).

2.0 INPUTS & OUTPUTS

   DOMAINER reads a DCF file (domain classification file) and a directory
   of protein CCF files (clean coordinate files) and writes, for each
   domain in the DCF file, a domain CCF file and domain PDB file. Each
   domain CCF file contains coordinates for a single SCOP domain. The
   paths and extensions for the protein (input) and domain (output)
   coordinate files are specified by the user (path) and in the ACD file
   (extension). The SCOP domain identifier codes are used to name the
   output files. A log file for each of the DCF and PDB format builds is
   written.

3.0 INPUT FILE FORMAT

   The format of the protein CCF file is described in the PDBPARSE
   documentation.

4.0 OUTPUT FILE FORMAT

   The format used for domain CCF files is exactly the same as that used
   for protein CCF files and is described the PDBPARSE documentation.
   An excerpt of the PDB format used for domain CCF files is shown below.
   PDB format is explained on the PDB website:
   http://www.rcsb.org/pdb/docs/format/pdbguide2.2/guide2.2_frame.html
   DOMAINER writes the following records in PDB format (Figure 1):
   (1) HEADER - bibliographic information. The text 'CLEANED-UP PDB FILE
   FOR SCOP DOMAIN XXXXXXX' is always given (where XXXXXXX is a
   7-character domain identifier code).
   (2) TITLE - bibliographic information. The text ' THIS FILE IS MISSING
   MOST RECORDS FROM THE ORIGINAL PDB FILE' is always given.
   (3) COMPND - compound information. The COMPND records from the
   original PDB file are given.
   (4) SOURCE - protein source information. The SOURCE records from the
   original PDB file are given.
   (5) REMARK - remark records. Remark records are used for spacing. One
   REMARK line containing the protein resolution is always given.
   (6) SEQRES - protein sequence.
   (7) ATOM - atomic coordinates.
   (8) TER - indicates the end of a chain.
   Figure 1 Excerpt of a domain clean coordinate file in PDB format


HEADER     CLEANED-UP PDB FILE FOR SCOP DOMAIN D1CS4A_

TITLE      THIS FILE IS MISSING MOST RECORDS FROM THE ORIGINAL PDB FILE

COMPND     MOL_ID: 1; MOLECULE: TYPE V ADENYLATE CYCLASE;

SOURCE     MOL_ID: 1; ORGANISM_SCIENTIFIC: CANIS FAMILIARIS;

REMARK

REMARK     RESOLUTION. 2.50  ANGSTROMS.

REMARK

SEQRES   1 A   52  ALA ASP ILE GLU GLY PHE THR SER LEU ALA SER GLN CYS

SEQRES   2 A   52  THR ALA GLN GLU LEU VAL MET THR LEU ASN GLU LEU PHE

SEQRES   3 A   52  ALA ARG PHE ASP LYS LEU ALA ALA GLU ASN HIS CYS LEU

SEQRES   4 A   52  ARG ILE LYS ILE LEU GLY ASP CYS TYR TYR CYS VAL SER

ATOM      1  N   ASP A   2      51.711 -11.782  62.798  1.00 51.17           N

ATOM      2  CA  ASP A   2      52.810 -11.644  61.848  1.00 54.45           C

ATOM      3  C   ASP A   2      54.137 -11.314  62.530  1.00 55.11           C

ATOM      4  O   ASP A   2      54.175 -10.524  63.469  1.00 55.34           O

ATOM      5  CB  ASP A   2      52.437 -10.555  60.831  1.00 57.50           C

ATOM      6  CG  ASP A   2      53.460 -10.391  59.729  1.00 61.38           C

ATOM      7  OD1 ASP A   2      54.316  -9.485  59.841  1.00 65.55           O

ATOM      8  OD2 ASP A   2      53.390 -11.146  58.736  1.00 63.68           O

ATOM      9  N   ILE A   3      55.216 -11.941  62.066  1.00 57.14           N

ATOM     10  CA  ILE A   3      56.546 -11.705  62.624  1.00 59.46           C

ATOM     11  C   ILE A   3      57.020 -10.305  62.230  1.00 60.12           C

ATOM     12  O   ILE A   3      56.963  -9.927  61.060  1.00 59.12           O

ATOM     13  CB  ILE A   3      57.583 -12.722  62.094  1.00 60.84           C

ATOM     14  CG1 ILE A   3      57.184 -14.163  62.447  1.00 63.12           C

ATOM     15  CG2 ILE A   3      58.975 -12.384  62.632  1.00 61.24           C

ATOM     16  CD1 ILE A   3      57.408 -14.554  63.895  1.00 63.92           C

ATOM     17  N   GLU A   4      57.492  -9.548  63.212  1.00 60.23           N

ATOM     18  CA  GLU A   4      57.975  -8.198  62.971  1.00 62.14           C

ATOM     19  C   GLU A   4      59.401  -8.277  62.424  1.00 60.59           C

ATOM     20  O   GLU A   4      60.244  -8.972  62.987  1.00 61.84           O

ATOM     21  CB  GLU A   4      57.917  -7.386  64.272  1.00 65.47           C

ATOM     22  CG  GLU A   4      58.037  -5.874  64.091  1.00 70.25           C

ATOM     23  CD  GLU A   4      57.588  -5.089  65.324  1.00 72.94           C

ATOM     24  OE1 GLU A   4      58.262  -5.175  66.377  1.00 70.76           O

ATOM     25  OE2 GLU A   4      56.555  -4.380  65.232  1.00 74.36           O

ATOM     26  N   GLY A   5      59.642  -7.608  61.298  1.00 57.58           N

ATOM     27  CA  GLY A   5      60.956  -7.615  60.681  1.00 56.14           C

ATOM     28  C   GLY A   5      61.452  -8.993  60.265  1.00 58.03           C

ATOM     29  O   GLY A   5      62.620  -9.322  60.480  1.00 57.47           O

ATOM     30  N   PHE A   6      60.576  -9.789  59.649  1.00 58.00           N


< data ommitted for clarity >

ATOM    354  O   CYS A  47      50.803 -16.789  58.301  1.00 50.50           O

ATOM    355  CB  CYS A  47      51.409 -13.972  57.565  1.00 51.82           C

ATOM    356  SG  CYS A  47      49.727 -13.277  57.723  1.00 54.53           S

TER     357      CYS A  47

END

5.0 DATA FILES

   None.

6.0 USAGE

  6.1 COMMAND LINE ARGUMENTS

   Standard (Mandatory) qualifiers Allowed values Default
   -scopfile This option specifies the DCF file (domain classification
   file) (input). A 'domain classification file' contains classification
   and other data for domains from SCOP or CATH, in DCF format
   (EMBL-like). The files are generated by using SCOPPARSE and CATHPARSE.
   Domain sequence information can be added to the file by using
   DOMAINSEQS. Input file Required
   [-ccfp]
   (Parameter 1) This option specifies the location of protein CCF file
   (clean coordinate files) (input). A 'clean cordinate file' contains
   protein coordinate and derived data for a single PDB file ('protein
   clean coordinate file') or a single domain from SCOP or CATH ('domain
   clean coordinate file'), in CCF format (EMBL-like). The files,
   generated by using PDBPARSE (PDB files) or DOMAINER (domains), contain
   'cleaned-up' data that is self-consistent and error-corrected. Records
   for residue solvent accessibility and secondary structure are added to
   the file by using PDBPLUS. default: "./ Directory
   [-ccfd]
   (Parameter 2) This option specifies the location of domain CCF files
   (clean coordinate files) (output). A 'domain coordinate file' contains
   coordinate and other data for a single scop domain. The files are
   generated by DOMAINER and are in embl-like and pdb formats. Output
   directory ./
   [-pdb]
   (Parameter 3) This option specifies the location of domain PDB files
   (output). A 'domain coordinate file' contains coordinate and other
   data for a single scop domain. The files are generated by DOMAINER and
   are in embl-like and pdb formats. Output directory ./
   -mode This option specifies the operational mode of DOMAINER. This
   determines which sort of residue number is written to the PDB file.
   1 (Use original PDB residue number)
   2 (Use corrected residue number (index into SEQRES sequence))
   1
   -cpdberrfile This option specifies the log file, which contains
   messages about any errors arising while DOMAINER generated CCF format
   files Output file domainer_embl.log
   -pdberrfile This option specifies the the log file, which contains
   messages about any errors arising while DOMAINER generated PDB format
   files Output file domainer_pdb.log
   Additional (Optional) qualifiers Allowed values Default
   (none)
   Advanced (Unprompted) qualifiers Allowed values Default
   (none)

  6.2 EXAMPLE SESSION

   An example of interactive use of DOMAINER is shown below.
Unix % domainer
Reads CCF files (clean coordinate files) for proteins and writes CCF files for
domains, taken from a DCF file (domain classification file)."
DCF file (domain classification file) (input): test_data/all.scop
Location of protein CCF files (clean coordinate files) (input). [./]: test_data
/
Location of domain CCF files (clean coordinate files) (output). [./]: test_data
/domainer
Location of domain PDB files (output). [./]: test_data/domainer
Residue number mode
         1 : Use original PDB residue number
         2 : Use corrected residue number (index into SEQRES sequence)
Select mode of operation [1]: 1
Output file [domainer_embl.log]: test_data/domainer/domainer_embl.log
Second output file [domainer_pdb.log]: test_data/domainer/domainer_pdb.log
D1CS4A_
D1II7A_
Unix %

   Protein clean coordinate files were read from test_data/.
   Domain definitions were taken from test_data/all.scop and domain clean
   coordinate files and domain PDB files were written.
   Three file extensions for protein coordinate input files (e.g.
   1cs4.ccf and 1ii7.ccf), domain coordinate files in CCF format (e.g.
   d1cs4a_.ccf and d1ii7a_.ccf) and PDB formats (e.g. d1cs4a_.ent and
   d1ii7a_.ent) will have been set in the ACD file.
   Log files called domainer_embl.log and domainer_pdb.log were written.
   The following command line would achieve the same result.
domainer test_data/ test_data/domainer test_data/domainer -scop
test_data/all.scop -cpdberrf test_data/domainer/domainer_embl.log -pdberrf
test_data/domainer/domainer_pdb.log -mode 1

7.0 KNOWN BUGS & WARNINGS

   Wildcard matching of SCOP domain start and end points
   SCOP treats PDB residue numbers as integers and this is a potential
   source of error in the domain ranges. It means that DOMAINER (via
   library calls) must use wild card strings when matching a SCOP start /
   end point to the PDB residue number strings.

8.0 NOTES

   Where coordinates for multiple models are given in a protein
   coordinate file, the domain CCF file will contain coordinates for the
   first model.
   In the rare cases where a domain is comprised of segments from more
   than one chain, the data in the domain CCF file will be presented as
   belonging to a single chain with a chain identifier of '.'. A single
   sequence will be given.
   The start and end positions of domains in SCOP coincide in several
   cases to residues which either lack a CA atom or for which coordinates
   for a single atom only are given in the PDB file. To ensure these
   domains are processed during a DOMAINER run, it is important to use
   protein CCF files which have NOT been masked to remove such residues.
   Otherwise errors of the following type may occur in the log file:
//
D1QFUL1
ERROR Domain end not found in ajXyzCpdbWriteDomain

//
D1QFUL1
ERROR Domain start not found in ajXyzCpdbWriteDomain

  8.1 DATA FILES

   FILE TYPE FORMAT DESCRIPTION CREATED BY SEE ALSO
   Domain classification file (for SCOP) DCF format (EMBL-like).
   Classification and other data for domains from SCOP. SCOPPARSE Domain
   sequence information can be added to the file by using DOMAINSEQS.
   Domain classification file (for CATH) DCF format (EMBL-like).
   Classification and other data for domains from CATH. CATHPARSE Domain
   sequence information can be added to the file by using DOMAINSEQS.
   Clean coordinate file (for protein) CCF format (EMBL-like). Protein
   coordinate and derived data for a single PDB file. The data are
   'cleaned-up': self-consistent and error-corrected. PDBPARSE Records
   for residue solvent accessibility and secondary structure are added to
   the file by using PDBPLUS.
   Clean coordinate file (for domain) CCF format (EMBL-like). Protein
   coordinate and derived data for a single domain from SCOP or CATH. The
   data are 'cleaned-up': self-consistent and error-corrected. DOMAINER
   Records for residue solvent accessibility and secondary structure are
   added to the file by using PDBPLUS.
   Domain PDB file PDB format. Protein coordinate data for a single
   domain from SCOP or CATH. DOMAINER N.A.

9.0 DESCRIPTION

   DOMAINER fills the need for a convenient source of protein coordinate
   data which includes protein strucutral domain definitions and is
   therefore appropriate for domain-centred approaches. DOMAINER reads
   protein CCF files and writes files of coordinate data for individual
   SCOP domains in clean and PDB formats. Domain definitions are taken
   from a DCF file (domain classification file). For example, SCOPPARSE
   parses the raw SCOP classification files (dir.cla.scop.txt and
   dir.des.scop.txt) available at URL
   (http://scop.mrc-lmb.cam.ac.uk/scop/parse/) and generate a DCF output
   file suitable for use with DOMAINER.

10.0 ALGORITHM

   We wrote the DOMAINER application to read protein CCF files and
   generate files of coordinates for single SCOP domains in the "clean"
   format (domain CCF files, Figure 1) and the PDB format. DOMAINER reads
   a file of domain classification data (e.g. prepared by using the
   application SCOPPARSE or CATHPARSE), and generates a domain CCF and
   domain PDB file for each domain listed. Where coordinates for multiple
   models were determined, data in the output files are given for the
   first model only. In cases where a domain consists of sections from
   more than one polypeptide chain, the data are presented as belonging
   to a single chain only (a single sequence with a chain identifier of
   is given).

11.0 RELATED APPLICATIONS

   APPLICATION DESCRIPTION
   PDBPARSE Parses PDB files and writes CCF files (clean coordinate
   files) for proteins.
   PDBPLUS Add residue solvent accessibility and secondary structure data
   to a CCF file (clean coordinate file) for a protein or domain.
   DOMAINER Reads CCF files (clean coordinate files) for proteins and
   writes CCF files for domains in a DCF file (domain classification
   file).
   CONTACTS Reads CCF files (clean coordinate files) and writes CON files
   (contact files) of intra-chain residue-residue contact data.
   INTERFACE Reads CCF files (clean coordinate files) and writes CON
   files (contact files) of inter-chain residue-residue contact data.
   FUNKY Reads CCF files (clean coordinate files) and writes CON files
   (contact files) of residue-ligand contact data for domains in a DCF
   file (domain classification file).
   SCOPPARSE Reads raw SCOP classification files and writes a DCF file
   (domain classification file).
   CATHPARSE Reads raw CATH classification files and writes DCF file
   (domain classification file).

12.0 DIAGNOSTIC ERROR MESSAGES

   DOMAINER generates a log file an excerpt of which is shown (Figure 2).
   If there is a problem in processing a domain, three lines containing
   the record '//', the domain identifier code and an error message
   respectively are written. The following messages may then be given.
   WARN filename not found (A CCF file could not be found).
   ERROR filename file read error (An error was encountered during a file
   read or write respectively.)
   ERROR filename file write error (An error was encountered during a
   file read or write respectively.)
   ERROR Domain start found by wildcard match only (Wildcard matching was
   needed to find the start (or end) of a domain in a PDB file: see
   below).
   Various other error messages may also be given (in case of difficulty
   email Jon Ison, jison@hgmp.mrc.ac.uk).
   Figure 2 Excerpt of log file
//
DS002__
WARN  Could not open for reading cpdb file s002.pxyz
//
DS003__
WARN  Could not open for reading cpdb file s003.pxyz

   Messages of the type below can appear in the log file if (i) The
   domain is of a PDB file which is in holding, but has not made it into
   the main PDB release yet. (ii) The domain is of a PDB file that is now
   obsolete - having been replaced by a more recent entry. There may be
   other cases too.
//
D0LPC_1
WARN  0lpc.pxyz not found

   Messages of the type below indicate that residues for the start or end
   of a domain are missing from the protein CCF file (see 'Notes' above).
//
D1QFUL1
ERROR Domain start not found in ajXyzCpdbWriteDomain
//
D1QFUL1
ERROR Domain end not found in ajXyzCpdbWriteDomain

13.0 AUTHORS

   Jon Ison (jison@rfcgr.mrc.ac.uk)
   MRC Rosalind Franklin Centre for Genomics Research Wellcome Trust
   Genome Campus, Hinxton, Cambridge, CB10 1SB, UK

14.0 REFERENCES

   Please cite the authors and EMBOSS.
   Rice P, Longden I and Bleasby A (2000) "EMBOSS - The European
   Molecular Biology Open Software Suite" Trends in Genetics, 15:276-278.
   
   See also http://emboss.sourceforge.net/

  14.1 Other useful references
