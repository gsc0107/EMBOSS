The EMBOSS Frequently Asked Questions list
==========================================

Last modified: 10-Oct-2000


SECTION A - Help and Support
============================

Q) How do I report bugs ?

A) mail emboss-bug@embnet.org





Q) Are there any mailing lists about EMBOSS?

A) emboss@embnet.org 
   is an open list (anyone can join) for general announcements and
   discussions by end users. 

   emboss-dev@embnet.org 
   is a closed list for discussions by developers using EMBOSS. 
   
   To subscribe to either list, send mail to majordomo@embnet.org
   with the message text subscribe emboss or subscribe emboss-dev 





Q) Where's the documentation?
   
A) All the documentation can be found at the following web page
   http://www.uk.embnet.org/Software/EMBOSS/




Q) Where's the applications' documentation?

A) http://www.uk.embnet.org/Software/EMBOSS/Apps/




Q) Is there a tutorial?

A) Short tutorial:
   http://www.hgmp.mrc.ac.uk/Registered/Help/emboss/short_emboss_tutorial/

   Long tutorial:
   http://www.hgmp.mrc.ac.uk/Registered/Help/emboss/




Q) Is there a quick guide?

A) A revised version is now available incorporating many of the suggestions
   I have had.  In order to get everything on I have shrunk the text to 9pt
   (sorry, no free magnifying glasses) and also prepared a postscript
   version. 

   ftp://ftp.no.embnet.org/embnet/tutorials/EMBOSS_QG.ps  (Postscript file)
   ftp://ftp.no.embnet.org/embnet/tutorials/EMBOSS_QG.doc (Word 97 format- Yuk!)





Q) Is there a table of substitutes for GCG programs?

A) http://www.no.embnet.org/FromGCG.html



Q) Is there a reference I can cite for EMBOSS?

A) Rice,R. Longden,I. and Bleasby,A.
"EMBOSS: The European Molecular Biology Open Software Suite"
Trends in Genetics June 2000, vol 16, No 6. pp.276-277




SECTION B - Installation & Compilation
======================================

Q) EMBOSS won't compile properly

A) Make sure you have the latest code and if you have compiled before
   try the following:-

   rm config.cache
   make clean
   ./configure
   make

   If this is the first time trying to compile all you need to do is:-

   ./configure
   make
 



Q) I'm trying to compile EMBOSS with the PNG support

A) If you have  gd-1.7.3, zlib-1.1.3 and libpng-1.0.5 or greater
   then the normal compile should work! However due to gd no longer
   supporting gif format then you may need to install gd,zlib and
   libpng locally. i.e. /home/joe/local

   To compile with the local version your configure line should now
   read:-
   ./configure --with-pngdriver=/home/joe/local



Q) Can I get the latest code via CVS ?

A) Yes. Here is the information you will need:-

   Make sure you have cvs on your system (available at http://www.cyclic.com). 
   Then log into the cvs server at HGMP as:

   user 'cvsuser', 
   password 'CVSUSER' 

   (this is a read only server). 

   cvs -d :pserver:cvsuser@cvs.hgmp.mrc.ac.uk:/cvsroot/packages/emboss/COPY login
   password: CVSUSER

   Now to check out the EMBOSS source code tree, place yourself in a
   local directory above where you want to see the EMBOSS directory.

   For example if you wanted EMBOSS to be seen as

   /home/joe/src/emboss...

   cd into /home/joe/src.

   Now checkout the repository as

   cvs -d :pserver:cvsuser@cvs.hgmp.mrc.ac.uk:/cvsroot/packages/emboss/COPY checkout emboss



Q) How do i compile the CVS version?

A) You will need automake, autoconf and libtool for this.
   
   Scripts are available to compile the cvs version.
   
   i.e. source make-static-developers
   will compile a statically linked EMBOSS.

   What this actually does is:-

   aclocal -I m4
   autoconf
   automake -a
   ./configure --disable-shared
   make

   For more info on the configurabillity of the build try 
   ./configure --help
  

 

Q) Installing associated software MSE.

A)  a) from the anonymous cvs code.
    
       1) Go to the mse directory
       cd embassy/mse

       2) make the configuration file
       aclocal
       autoconf
       automake

       3) configure and compile
       ./configure (use same options as you used to compile emboss)
       make
       make install

    b) from  MSE-0.0.4.tar.gz 

    available from our FTP server ftp://ftp.uk.embnet.org/pub/EMBOSS/ 
    in file MSE-0.0.4.tar.gz 

       1) Go to the emboss directory 
       cd EMBOSS-0.0.4

       2) make new directory embassy if it does not exist already.
       mkdir embassy

       3) Go into that directory
       cd embassy

       4) unzip and untar the file
       gunzip MSE-0.0.4.tar.gz
       tar xvf MSE-0.0.4.tar

       5) go into the mse directory
       cd MSE-0.0.4

       6) configure and compile
       ./configure (use same options as you used to compile emboss)
       make
       make install
   

 
Q) Installing associated software PHYLIP

A)  a) from the anonymous cvs code.
    
       1) Go to the phylip directory
       cd embassy/phylip

       2) make the configuration file
       aclocal
       autoconf
       automake

       3) configure and compile
       ./configure (use same options as you used to compile emboss)
       make
       make install

    b) from PHYLIP-3.573c.tar.gz 

    available from our FTP server ftp://ftp.uk.embnet.org/pub/EMBOSS/ 
    in file PHYLIP-3.573c.tar.gz 

       1) Go to the emboss directory 
       cd EMBOSS-0.0.4

       2) make new directory embassy if it does not exist already.
       mkdir embassy

       3) Go into that directory
       cd embassy

       4) unzip and untar the file
       gunzip PHYLIP-3.573c.tar.gz
       tar xvf PHYLIP-3.573c.tar

       5) go into the phylip directory
       cd PHYLIP-3.573c

       6) configure and compile
       ./configure (use same options as you used to compile emboss)
       make
       make install



Q) Problems finding PHYLIP acd files ?

A)  The 1.0 release of EMBOSS should be able to find the acd files
    in the install directory or in the original source directory.
    If you have copied the phylip binaries to another location and
    removed these files you can still point to the new ACD directory.

    If you have installed PHYLIP to the same top directory as EMBOSS
    i.e. by default this is usually /usr/local/ (via make install)
    then if you set the following in your .embossrc file then your 
    PHYLIP acd files will be found in
    
    /usr/local/share/EMBOSS/acd/

    if you have not installed PHYLIP then you will can set
    emboss_acdroot to the directory containing the acd files or
    copy them to the emboss/acd directory.

    To tell EMBOSS where to find the files, specify the full path
    of the ACD directory in your ~/.embossrc file, or in the
    emboss.default file.


    env emboss_acdroot /usr/local/share/EMBOSS/acd/

Q) What benefits do i gain from using the associated versions of
    software.

A)  a) You can read any sequence type that emboss can handle.

    b) the associated software will use the emboss acd files so the
    naming of output/input files is taken care of and will check all
    values before the program is run. Command line arguments are used
    instead interactive menu based ones.
    


SECTION C - Graphics
====================



Q) What Graphics options are available?

A) To see what graphics drivers are available type ? at the promt for
   the graph type and this will give you a list.

   Here are some of those:-

   ps      -> Postscript
   cps     -> Colour Postscript
   x11     -> X display. (also called xterm and xwindows)
   hpgl    -> HP Laserjet III, HPGL emulation mode.
   png     -> PNG (you will need png,z,gd librarys installed for this)
   tek     -> Tektronix Terminal
   none    -> None.
   data    -> Writes out points to a file for graphs.
   meta    -> plplot meta file.




Q) How do i get the PNG driver?

A) To get the PNG driver you will need to have installed z,png and gd
   librarys. In particular gd version >=  1.7.3 must be used.

   If for some reason you do not have the required librarys and your 
   system support group will not update these ( In particular gd, as
   the older versions support GIF which is NOT supported in later
   versions) then install all three latest versions (z,gd,png) to a 
   new directory and then add this new directory to your configure
   line for EMBOSS.

   i.e. 

   make clean
   rm config.cache
   ./configure --with-pngdriver=/home/joe/new

   as i installed gd etc using --prefix=/home/joe/new 
   in the configure of each.

   If you have recently installed the librarys to your system then
   
   make clean
   rm config.cache
   ./configure


   By removing config.cache you are telling the system to check
   again for what is available as these are stored in that file.

   make clean removes all the current objects and EMBOSS librarys
   as these will now need to include the png driver code. 




Q) Where to look for the additonal librarys needed for PNG.

A)
   GD)  http://www.boutell.com/gd/
   Z)   http://www.mirror.ac.uk/sites/ftp.cdrom.com/pub/infozip/zlib/
   PNG) http://www.mirror.ac.uk/sites/ftp.cdrom.com/pub/png/

   These also list the various mirror sites for non UK people.

   Alternative using ftp :-

   PNG) ftp://swrinde.nde.swri.edu/pub/png/src/libpng.1.0.5.tar.gz
   GD)  ftp://ftp.boutell.com/pub/boutell/gd/gd-1.7.3.tar.gz
   Z)   ftp://ftp.uu.net/graphics/png/src/zlib-1.1.3.tar.gz




Q) Plotters and pen colours.
    
A) The hp drivers presume the pens are loaded as:-

    SP1     black
    SP2     white
    SP3     red
    SP4     green
    SP5     blue
    SP6     cyan
    SP7     magenta
    SP8     yellow

    Otherwise your output will have different colours.

Q) Browsing the Gnu site I came across libplot, libxmi and plot utils. 
Would these be a suitable replacement for PLPLOT?

A) So far they are still GPL rather than LGPL.

Robert Maier promised a while back to LGPL them but has not yet.  Pity. 
Makes all the difference for linking in third party applications to
EMBOSS. 


SECTION D - Data Files
======================



Q) How do I use my own private data file?

A) You may wish to amend one of the standard EMBOSS data files.  One of
  the data files you might wish to alter are the translation table files. 

'transeq' has been written to only read in one of the standard
translation files:

  EGC.0
  EGC.1
  EGC.2
  EGC.3
  EGC.4
  EGC.5
  EGC.6
  EGC.9
  EGC.10
  EGC.12
  EGC.11
  EGC.13
  EGC.14
  EGC.15

These files are the only ones that you can specify to 'transeq'. 

If you wish to create your own specialised translation table, then you
should pick one of them to amend. 

For instance you may decide that you will use the file EGC.15 as you
would never want to use this otherwise. 

Use the program 'embossdata' to get a copy of this file:

% embossdata -fetch -filename EGC.15
Finds or fetches the data files read in by the EMBOSS programs
File '/packages/emboss/emboss/data/EGC.15' has been copied successfully.

Edit the file EGC.15 to suit your requirements.

Specify '-table 15' when you run 'transeq' to use this altered file. 
'transeq' will then look for the file 'EGC.15' and will find it in your
current directory before it finds the default one in the EMBOSS_DATA
directory. It will therefore use your local copy.

You may get confused with many copies of changed files floating about. 
To check which copy of a file is being used - the default EMBOSS_DATA
one or a potential local copy, use 'embossdata':

% embossdata -filename EGC.15
Finds or fetches the data files read in by the EMBOSS programs
# The following directories can contain EMBOSS data files.
# They are searched in the following order until the file is found.
# If the directory does not exist, then this is noted below.
# '.' is the UNIX name for your current working directory.

File ./EGC.15                                            Exists
File .embossdata/EGC.15                                  Does not exist
File /people/gwilliam/EGC.15                             Does not exist
File /people/gwilliam/.embossdata/EGC.15                 Does not exist
File /packages/emboss/emboss/data/EGC.15                 Exists

This shows that a copy of EGC.15 exists in your current directory and so
will be used in preference to the default one in the EMBOSS_DATA
directory. 


SECTION E - Sequence Files and Formats
======================================

Q) How do you write sequences to different files instead of writing them
   all to one file?

A) EMBOSS is not good at writing multiple sequences to different files.
   You could try using 'nthseq' to pull out one sequence at a time.

   You should consider using the '-ossingle' qualifier.  This writes
   sequences to separate FASTA files, but the file names depend on the
   sequence ID.  This is rarely used.  It is there because -ossingle is the
   default for GCG output format.  The output filename is currently ignored
   when ossingle is used, and the filename depends on each individual
   sequence. 




Q) What sequence formats are supported?

A) Many:

   gcg, embl, swissprot, fasta, ncbi, genbank, nbrf, codata, strider,
   clustal, phylip, acedb, msf, ig, staden, text, raw, asis




Q) What is the difference between TEXT and RAW formats?

A) TEXT accepts everything in the sequence file as sequence.
   RAW accepts only alphanumeric and whitespace characters and rejects
   anything else. 



Q) What is ASIS format?

A) The "filename" is really the sequence.
   This is a quick and easy way of reading in a short fragment of
   sequence without having to enter it into a file. 

   For example:
   % program -seq asis::ATGGTGAGGAGAGTTGTGATGAGA





SECTION F - Limits and contraints
=================================

Q) Is there a maximum size for sequences?

A) The maximum size for any program depends only on how much memory your
   system has.

   Of course, some programs (and some program options) can take up too
   much memory, or simply run very slowly. 

   You might have a constraint imposed on your usage of memory.
   Try using the Unix command 'limit' to look at such constraints.
   Try using the Unix command 'unlimit' to remove the constraints, eg:
     % unlimit stacksize
     % unlimit vmemoryuse




Q) GCG has a somewhat arbitrary fragment length limit of 2500 bp for gel*.
   Is there a similar limit for MSE under EMBOSS?

A) No.  MSE has no limit, you are only limited by how much memory you
   have. 





SECTION G - Running under Web servers and from scripts
======================================================


Q) I am trying to write a web interface for an emboss program
   and run apache. The program complains that there is no HOME
   directory set.

A) Just put these at the top after your 'use CGI' ( whatever) statements.

   $ENV{HOME}=<web owner root>  i.e. /usr/local/apache
   $ENV{EMBOSS_DATA}=<emboss data directory>

   These two are important, but you can also pass other "constants". 




SECTION H - Programs and options
================================

Q) Plotting with pepwheel gives interesting output.
   pepwheel -turns=8 -send=30 sw:p77837 -auto
   gives a helical wheel plot but the residues are plotted so every two
   circles are sat on top of one another. 

A) That is the correct answer.

   Instead of 3.6 residues per turn, (5 turns in 18 steps) you seem to
   have a helix with 8 turns in 18 steps (4 in 9).

   Try -turns=4 -steps=9 ... but only if you are sure that is the 
   way your helix goes.

   I suppose we could play with checking for common factors in pepwheel,
   but I don't know of any biologically meaningful setting that would
   cause problems.





Q) In prettyplot, How do you specify an output file name for the plot file?

A) prettyplot -auto ~/wordtest/globin-nogap.msf -graph ps
   Creates prettyplot.ps
   The name is generated automatically.  To set this to something more
   discriptive use -go .i.e

   prettyplot -auto ~/wordtest/globin-nogap.msf -graph ps -go=hello
   Creates hello.ps
